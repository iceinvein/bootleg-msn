import { useState } from "react";
import { cn } from "@/lib/utils";

interface EmojiPickerProps {
	onEmojiSelect: (emoji: string) => void;
	onClose: () => void;
}

const emojiCategories = {
	"Smileys & People": [
		"😀",
		"😃",
		"😄",
		"😁",
		"😆",
		"😅",
		"🤣",
		"😂",
		"🙂",
		"🙃",
		"😉",
		"😊",
		"😇",
		"🥰",
		"😍",
		"🤩",
		"😘",
		"😗",
		"😚",
		"😙",
		"😋",
		"😛",
		"😜",
		"🤪",
		"😝",
		"🤑",
		"🤗",
		"🤭",
		"🤫",
		"🤔",
		"🤐",
		"🤨",
		"😐",
		"😑",
		"😶",
		"😏",
		"😒",
		"🙄",
		"😬",
		"🤥",
		"😔",
		"😪",
		"🤤",
		"😴",
		"😷",
		"🤒",
		"🤕",
		"🤢",
		"🤮",
		"🤧",
		"🥵",
		"🥶",
		"🥴",
		"😵",
		"🤯",
		"🤠",
		"🥳",
		"😎",
		"🤓",
		"🧐",
		"😕",
		"😟",
		"🙁",
		"😮",
		"😯",
		"😲",
		"😳",
		"🥺",
		"😦",
		"😧",
		"😨",
		"😰",
		"😥",
		"😢",
		"😭",
		"😱",
		"😖",
		"😣",
		"😞",
		"😓",
		"😩",
		"😫",
		"🥱",
		"😤",
		"😡",
		"😠",
		"🤬",
		"😈",
		"👿",
		"💀",
		"☠️",
		"💩",
		"🤡",
		"👹",
		"👺",
		"👻",
		"👽",
		"👾",
		"🤖",
		"😺",
		"😸",
		"😹",
		"😻",
		"😼",
		"😽",
		"🙀",
		"😿",
		"😾",
	],
	"Animals & Nature": [
		"🐶",
		"🐱",
		"🐭",
		"🐹",
		"🐰",
		"🦊",
		"🐻",
		"🐼",
		"🐨",
		"🐯",
		"🦁",
		"🐮",
		"🐷",
		"🐽",
		"🐸",
		"🐵",
		"🙈",
		"🙉",
		"🙊",
		"🐒",
		"🐔",
		"🐧",
		"🐦",
		"🐤",
		"🐣",
		"🐥",
		"🦆",
		"🦅",
		"🦉",
		"🦇",
		"🐺",
		"🐗",
		"🐴",
		"🦄",
		"🐝",
		"🐛",
		"🦋",
		"🐌",
		"🐞",
		"🐜",
		"🦟",
		"🦗",
		"🕷️",
		"🕸️",
		"🦂",
		"🐢",
		"🐍",
		"🦎",
		"🦖",
		"🦕",
		"🐙",
		"🦑",
		"🦐",
		"🦞",
		"🦀",
		"🐡",
		"🐠",
		"🐟",
		"🐬",
		"🐳",
		"🐋",
		"🦈",
		"🐊",
		"🐅",
		"🐆",
		"🦓",
		"🦍",
		"🦧",
		"🐘",
		"🦛",
		"🦏",
		"🐪",
		"🐫",
		"🦒",
		"🦘",
		"🐃",
		"🐂",
		"🐄",
		"🐎",
		"🐖",
		"🐏",
		"🐑",
		"🦙",
		"🐐",
		"🦌",
		"🐕",
		"🐩",
		"🦮",
		"🐕‍🦺",
		"🐈",
		"🐓",
		"🦃",
		"🦚",
		"🦜",
		"🦢",
		"🦩",
		"🕊️",
		"🐇",
		"🦝",
		"🦨",
		"🦡",
		"🦦",
		"🦥",
		"🐁",
		"🐀",
		"🐿️",
		"🦔",
	],
	"Food & Drink": [
		"🍎",
		"🍐",
		"🍊",
		"🍋",
		"🍌",
		"🍉",
		"🍇",
		"🍓",
		"🫐",
		"🍈",
		"🍒",
		"🍑",
		"🥭",
		"🍍",
		"🥥",
		"🥝",
		"🍅",
		"🍆",
		"🥑",
		"🥦",
		"🥬",
		"🥒",
		"🌶️",
		"🫑",
		"🌽",
		"🥕",
		"🫒",
		"🧄",
		"🧅",
		"🥔",
		"🍠",
		"🥐",
		"🥯",
		"🍞",
		"🥖",
		"🥨",
		"🧀",
		"🥚",
		"🍳",
		"🧈",
		"🥞",
		"🧇",
		"🥓",
		"🥩",
		"🍗",
		"🍖",
		"🦴",
		"🌭",
		"🍔",
		"🍟",
		"🍕",
		"🫓",
		"🥪",
		"🥙",
		"🧆",
		"🌮",
		"🌯",
		"🫔",
		"🥗",
		"🥘",
		"🫕",
		"🥫",
		"🍝",
		"🍜",
		"🍲",
		"🍛",
		"🍣",
		"🍱",
		"🥟",
		"🦪",
		"🍤",
		"🍙",
		"🍚",
		"🍘",
		"🍥",
		"🥠",
		"🥮",
		"🍢",
		"🍡",
		"🍧",
		"🍨",
		"🍦",
		"🥧",
		"🧁",
		"🍰",
		"🎂",
		"🍮",
		"🍭",
		"🍬",
		"🍫",
		"🍿",
		"🍩",
		"🍪",
		"🌰",
		"🥜",
		"🍯",
		"🥛",
		"🍼",
		"☕",
		"🍵",
		"🧃",
		"🥤",
		"🍶",
		"🍺",
		"🍻",
		"🥂",
		"🍷",
		"🥃",
		"🍸",
		"🍹",
		"🧉",
		"🍾",
	],
	Activities: [
		"⚽",
		"🏀",
		"🏈",
		"⚾",
		"🥎",
		"🎾",
		"🏐",
		"🏉",
		"🥏",
		"🎱",
		"🪀",
		"🏓",
		"🏸",
		"🏒",
		"🏑",
		"🥍",
		"🏏",
		"🪃",
		"🥅",
		"⛳",
		"🪁",
		"🏹",
		"🎣",
		"🤿",
		"🥊",
		"🥋",
		"🎽",
		"🛹",
		"🛷",
		"⛸️",
		"🥌",
		"🎿",
		"⛷️",
		"🏂",
		"🪂",
		"🏋️‍♀️",
		"🏋️",
		"🏋️‍♂️",
		"🤼‍♀️",
		"🤼",
		"🤼‍♂️",
		"🤸‍♀️",
		"🤸",
		"🤸‍♂️",
		"⛹️‍♀️",
		"⛹️",
		"⛹️‍♂️",
		"🤺",
		"🤾‍♀️",
		"🤾",
		"🤾‍♂️",
		"🏌️‍♀️",
		"🏌️",
		"🏌️‍♂️",
		"🏇",
		"🧘‍♀️",
		"🧘",
		"🧘‍♂️",
		"🏄‍♀️",
		"🏄",
		"🏄‍♂️",
		"🏊‍♀️",
		"🏊",
		"🏊‍♂️",
		"🤽‍♀️",
		"🤽",
		"🤽‍♂️",
		"🚣‍♀️",
		"🚣",
		"🚣‍♂️",
		"🧗‍♀️",
		"🧗",
		"🧗‍♂️",
		"🚵‍♀️",
		"🚵",
		"🚵‍♂️",
		"🚴‍♀️",
		"🚴",
		"🚴‍♂️",
		"🏆",
		"🥇",
		"🥈",
		"🥉",
		"🏅",
		"🎖️",
		"🏵️",
		"🎗️",
		"🎫",
		"🎟️",
		"🎪",
		"🤹‍♀️",
		"🤹",
		"🤹‍♂️",
		"🎭",
		"🩰",
		"🎨",
		"🎬",
		"🎤",
		"🎧",
		"🎼",
		"🎵",
		"🎶",
		"🥇",
		"🥈",
		"🥉",
		"🏆",
		"🏅",
		"🎖️",
	],
	Objects: [
		"⌚",
		"📱",
		"📲",
		"💻",
		"⌨️",
		"🖥️",
		"🖨️",
		"🖱️",
		"🖲️",
		"🕹️",
		"🗜️",
		"💽",
		"💾",
		"💿",
		"📀",
		"📼",
		"📷",
		"📸",
		"📹",
		"🎥",
		"📽️",
		"🎞️",
		"📞",
		"☎️",
		"📟",
		"📠",
		"📺",
		"📻",
		"🎙️",
		"🎚️",
		"🎛️",
		"🧭",
		"⏱️",
		"⏲️",
		"⏰",
		"🕰️",
		"⌛",
		"⏳",
		"📡",
		"🔋",
		"🔌",
		"💡",
		"🔦",
		"🕯️",
		"🪔",
		"🧯",
		"🛢️",
		"💸",
		"💵",
		"💴",
		"💶",
		"💷",
		"🪙",
		"💰",
		"💳",
		"💎",
		"⚖️",
		"🪜",
		"🧰",
		"🔧",
		"🔨",
		"⚒️",
		"🛠️",
		"⛏️",
		"🔩",
		"⚙️",
		"🪚",
		"🔫",
		"🧨",
		"💣",
		"🔪",
		"🗡️",
		"⚔️",
		"🛡️",
		"🚬",
		"⚰️",
		"🪦",
		"⚱️",
		"🏺",
		"🔮",
		"📿",
		"🧿",
		"💈",
		"⚗️",
		"🔭",
		"🔬",
		"🕳️",
		"🩹",
		"🩺",
		"💊",
		"💉",
		"🩸",
		"🧬",
		"🦠",
		"🧫",
		"🧪",
		"🌡️",
		"🧹",
		"🧺",
		"🧻",
		"🚽",
		"🚰",
		"🚿",
		"🛁",
		"🛀",
		"🧼",
		"🪥",
		"🪒",
		"🧽",
		"🧴",
		"🛎️",
		"🔑",
		"🗝️",
		"🚪",
		"🪑",
		"🛋️",
		"🛏️",
		"🛌",
		"🧸",
		"🖼️",
		"🛍️",
		"🛒",
		"🎁",
		"🎈",
		"🎏",
		"🎀",
		"🎊",
		"🎉",
		"🎎",
		"🏮",
		"🎐",
		"🧧",
	],
	Symbols: [
		"❤️",
		"🧡",
		"💛",
		"💚",
		"💙",
		"💜",
		"🖤",
		"🤍",
		"🤎",
		"💔",
		"❣️",
		"💕",
		"💞",
		"💓",
		"💗",
		"💖",
		"💘",
		"💝",
		"💟",
		"☮️",
		"✝️",
		"☪️",
		"🕉️",
		"☸️",
		"✡️",
		"🔯",
		"🕎",
		"☯️",
		"☦️",
		"🛐",
		"⛎",
		"♈",
		"♉",
		"♊",
		"♋",
		"♌",
		"♍",
		"♎",
		"♏",
		"♐",
		"♑",
		"♒",
		"♓",
		"🆔",
		"⚛️",
		"🉑",
		"☢️",
		"☣️",
		"📴",
		"📳",
		"🈶",
		"🈚",
		"🈸",
		"🈺",
		"🈷️",
		"✴️",
		"🆚",
		"💮",
		"🉐",
		"㊙️",
		"㊗️",
		"🈴",
		"🈵",
		"🈹",
		"🈲",
		"🅰️",
		"🅱️",
		"🆎",
		"🆑",
		"🅾️",
		"🆘",
		"❌",
		"⭕",
		"🛑",
		"⛔",
		"📛",
		"🚫",
		"💯",
		"💢",
		"♨️",
		"🚷",
		"🚯",
		"🚳",
		"🚱",
		"🔞",
		"📵",
		"🚭",
		"❗",
		"❕",
		"❓",
		"❔",
		"‼️",
		"⁉️",
		"🔅",
		"🔆",
		"〽️",
		"⚠️",
		"🚸",
		"🔱",
		"⚜️",
		"🔰",
		"♻️",
		"✅",
		"🈯",
		"💹",
		"❇️",
		"✳️",
		"❎",
		"🌐",
		"💠",
		"Ⓜ️",
		"🌀",
		"💤",
		"🏧",
		"🚾",
		"♿",
		"🅿️",
		"🈳",
		"🈂️",
		"🛂",
		"🛃",
		"🛄",
		"🛅",
		"🚹",
		"🚺",
		"🚼",
		"🚻",
		"🚮",
		"🎦",
		"📶",
		"🈁",
		"🔣",
		"ℹ️",
		"🔤",
		"🔡",
		"🔠",
		"🆖",
		"🆗",
		"🆙",
		"🆒",
		"🆕",
		"🆓",
		"0️⃣",
		"1️⃣",
		"2️⃣",
		"3️⃣",
		"4️⃣",
		"5️⃣",
		"6️⃣",
		"7️⃣",
		"8️⃣",
		"9️⃣",
		"🔟",
	],
};

export function EmojiPicker({ onEmojiSelect, onClose }: EmojiPickerProps) {
	const [activeCategory, setActiveCategory] = useState("Smileys & People");

	return (
		<div className="absolute right-0 bottom-12 z-50 h-64 w-80 rounded-lg border border-gray-200 bg-white shadow-xl">
			<div className="flex h-full flex-col">
				{/* Header */}
				<div className="flex items-center justify-between border-gray-200 border-b p-3">
					<h3 className="font-medium text-gray-900">Emoji</h3>
					<button
						type="button"
						onClick={onClose}
						className="text-gray-400 hover:text-gray-600"
					>
						×
					</button>
				</div>

				{/* Category tabs */}
				<div className="flex overflow-x-auto border-gray-200 border-b">
					{Object.keys(emojiCategories).map((category) => (
						<button
							type="button"
							key={category}
							onClick={() => setActiveCategory(category)}
							className={cn(
								"whitespace-nowrap px-3 py-2 font-medium text-xs",
								activeCategory === category
									? "border-blue-600 border-b-2 text-blue-600"
									: "text-gray-500 hover:text-gray-700",
							)}
						>
							{category.split(" ")[0]}
						</button>
					))}
				</div>

				{/* Emoji grid */}
				<div className="flex-1 overflow-y-auto p-2">
					<div className="grid grid-cols-8 gap-1">
						{emojiCategories[
							activeCategory as keyof typeof emojiCategories
						].map((emoji) => (
							<button
								type="button"
								key={emoji}
								onClick={() => onEmojiSelect(emoji)}
								className="flex h-8 w-8 items-center justify-center rounded text-lg transition-colors hover:bg-gray-100"
								title={emoji}
							>
								{emoji}
							</button>
						))}
					</div>
				</div>
			</div>
		</div>
	);
}
